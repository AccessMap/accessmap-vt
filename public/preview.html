<!DOCTYPE html>
<html>
<head>
    <title>demo</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    <style>
        body {
            padding: 0;
            margin: 0;
        }
        html, body, #map {
            height: 100%;
            width: 100%;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <script>
        function getName() {
            var match = location.search.match(/name=([^&\/]*)/);
            var accessToken = match && match[1];

            if (accessToken) {
                localStorage.accessToken = accessToken;
            } else {
                accessToken = localStorage.accessToken;
            }

            return accessToken;
        }

        var map = new L.Map('map');

        var name = getName();

        var url = name + '/{z}/{x}/{y}';

		L.tileLayer(url, {
		    attribution: name,
		    maxZoom: 22
		}).addTo(map);   

        map.setView(new L.LatLng(0, 0), 1);
    </script>
</body>
</html>